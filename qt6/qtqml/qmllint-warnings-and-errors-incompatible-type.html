<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- incompatible-type.qdoc -->
  <meta name="description" content="[incompatible-type] An object, value, or expression is used on an incompatible type.">
  <title>Incompatible type | Qt Qml | Qt 6.9.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li>Qt 6.9</li>
<li><a href="qtqml-index.html">Qt Qml</a></li>
<li><a href="qmllint-warnings-and-errors.html">QML Lint Warning and Errors</a></li>
<li>Incompatible type</li>
<li id="buildversion"><a href="qtqml-index.html">Qt 6.9.0 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#cannot-assign-to-default-property-of-incompatible-type">Cannot assign to default property of incompatible type</a></li>
<li class="level2"><a href="#what-happened">What happened?</a></li>
<li class="level2"><a href="#why-is-this-bad">Why is this bad?</a></li>
<li class="level2"><a href="#example">Example</a></li>
<li class="level1"><a href="#on-binding-for-property-has-wrong-type">On-binding for property has wrong type</a></li>
<li class="level2"><a href="#on-binding-for-property-has-wrong-type-what-happened-5">What happened?</a></li>
<li class="level2"><a href="#on-binding-for-property-has-wrong-type-why-is-this-bad-6">Why is this bad?</a></li>
<li class="level2"><a href="#on-binding-for-property-has-wrong-type-example-7">Example</a></li>
<li class="level1"><a href="#construction-from-string-is-deprecated-use-structured-value-type-construction-instead">Construction from string is deprecated; Use structured value type construction instead</a></li>
<li class="level2"><a href="#construction-from-string-is-deprecated-use-structured-value-type-construction-instead-what-happened-9">What happened?</a></li>
<li class="level2"><a href="#construction-from-string-is-deprecated-use-structured-value-type-construction-instead-why-is-this-bad-10">Why is this bad?</a></li>
<li class="level2"><a href="#construction-from-string-is-deprecated-use-structured-value-type-construction-instead-example-11">Example</a></li>
<li class="level1"><a href="#function-without-return-type-annotation-returns">Function without return type annotation returns</a></li>
<li class="level2"><a href="#function-without-return-type-annotation-returns-what-happened-13">What happened?</a></li>
<li class="level2"><a href="#function-without-return-type-annotation-returns-why-is-this-bad-14">Why is this bad?</a></li>
<li class="level2"><a href="#function-without-return-type-annotation-returns-example-15">Example</a></li>
<li class="level1"><a href="#cannot-assign-binding-object-literal">Cannot assign binding/object/literal</a></li>
<li class="level2"><a href="#cannot-assign-binding-object-literal-what-happened-17">What happened?</a></li>
<li class="level2"><a href="#cannot-assign-binding-object-literal-why-is-this-bad-18">Why is this bad?</a></li>
<li class="level2"><a href="#cannot-assign-binding-object-literal-example-19">Example</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">Incompatible type</h1>
<!-- $$$qmllint-warnings-and-errors-incompatible-type.html-description -->
<div class="descr" id="details">
<p>This warning category is spelled <code translate="no">[incompatible-type]</code> by qmllint.</p>
<h2 id="cannot-assign-to-default-property-of-incompatible-type">Cannot assign to default property of incompatible type</h2>
<h3 id="what-happened">What happened?</h3>
<p>You assigned an object to a <a href="qtqml-syntax-objectattributes.html#default-properties">default property</a> of an incompatible type.</p>
<h3 id="why-is-this-bad">Why is this bad?</h3>
<p>The QML engine will not be able to assign the object at runtime.</p>
<h3 id="example">Example</h3>
<pre class="qml" translate="no">
 import QtQuick

 <span class="type"><a href="../qtquick/qml-qtquick-item.html" translate="no">Item</a></span> {
     component MyType: <span class="type"><a href="qml-qtqml-qtobject.html" translate="no">QtObject</a></span> {
         default property list&lt;<span class="type"><a href="../qtquick/qml-qtquick-item.html" translate="no">Item</a></span>&gt; <span class="name">myDefaultProperty</span>
     }

     <span class="type">MyType</span> {
         <span class="type"><a href="qml-qtqml-qtobject.html" translate="no">QtObject</a></span> {} <span class="comment">// note: QtObject does not inherit from Item</span>
     }
 }
</pre>
<p>To fix this warning, bind a compatible type to the property or, if you are the author of the default property, change the type in the definition:</p>
<pre class="qml" translate="no">
 import QtQuick

 <span class="type"><a href="../qtquick/qml-qtquick-item.html" translate="no">Item</a></span> {
     component MyType: <span class="type"><a href="qml-qtqml-qtobject.html" translate="no">QtObject</a></span> {
         default property list&lt;<span class="type"><a href="../qtquick/qml-qtquick-item.html" translate="no">Item</a></span>&gt; <span class="name">myDefaultProperty</span>
     }

     <span class="type">MyType</span> {
         <span class="type"><a href="../qtquick/qml-qtquick-item.html" translate="no">Item</a></span> {}
     }

     component AlternativeMyType: <span class="type"><a href="qml-qtqml-qtobject.html" translate="no">QtObject</a></span> {
         default property list&lt;<span class="type"><a href="qml-qtqml-qtobject.html" translate="no">QtObject</a></span>&gt; <span class="name">myDefaultProperty</span>
     }

     <span class="type">AlternativeMyType</span> {
         <span class="type"><a href="qml-qtqml-qtobject.html" translate="no">QtObject</a></span> {} <span class="comment">// is ok for AlternativeMyType</span>
     }
 }
</pre>
<h2 id="on-binding-for-property-has-wrong-type">On-binding for property has wrong type</h2>
<h3 id="on-binding-for-property-has-wrong-type-what-happened-5">What happened?</h3>
<p>You used an invalid <a href="qtqml-cppintegration-definetypes.html#property-modifier-types">property modifier type</a>.</p>
<h3 id="on-binding-for-property-has-wrong-type-why-is-this-bad-6">Why is this bad?</h3>
<p>The QML engine will not be able to use the property modifier type at runtime.</p>
<h3 id="on-binding-for-property-has-wrong-type-example-7">Example</h3>
<pre class="qml" translate="no">
 import QtQuick

 Item {
     property int xxx
     Item on xxx { ... }
 }
</pre>
<p>To fix this warning, remove the <code translate="no">on</code> or use a valid <a href="qtqml-cppintegration-definetypes.html#property-modifier-types">property modifier type</a>:</p>
<pre class="qml" translate="no">
 import QtQuick

 Item {
     property int xxx
     Item { ... }

     // Alternative: use a valid property modifier type
     NumberAnimation on xxx { ... }
 }
</pre>
<h2 id="construction-from-string-is-deprecated-use-structured-value-type-construction-instead">Construction from string is deprecated; Use structured value type construction instead</h2>
<h3 id="construction-from-string-is-deprecated-use-structured-value-type-construction-instead-what-happened-9">What happened?</h3>
<p>You constructed a <a href="qqmlintegration-h-qtqml-proxy.html#QML_STRUCTURED_VALUE" translate="no">QML_STRUCTURED_VALUE</a> using a string.</p>
<h3 id="construction-from-string-is-deprecated-use-structured-value-type-construction-instead-why-is-this-bad-10">Why is this bad?</h3>
<p>This is deprecated and prone to typos.</p>
<h3 id="construction-from-string-is-deprecated-use-structured-value-type-construction-instead-example-11">Example</h3>
<pre class="qml" translate="no">
 import QtQuick

 <span class="type"><a href="../qtquick/qml-qtquick-item.html" translate="no">Item</a></span> {
     property <span class="type"><a href="qml-point.html" translate="no">point</a></span> <span class="name">p</span>: <span class="string">&quot;5, 6&quot;</span>
 }
</pre>
<p>To fix this warning, populate the structured value type as explained in the <a href="qqmlintegration-h-qtqml-proxy.html#QML_STRUCTURED_VALUE" translate="no">QML_STRUCTURED_VALUE</a> description instead of binding a string to the property:</p>
<pre class="qml" translate="no">
 import QtQuick

 <span class="type"><a href="../qtquick/qml-qtquick-item.html" translate="no">Item</a></span> {
     property <span class="type"><a href="qml-point.html" translate="no">point</a></span> <span class="name">p</span>: ({ x: <span class="number">5</span>, y: <span class="number">6</span> })
 }
</pre>
<h2 id="function-without-return-type-annotation-returns">Function without return type annotation returns</h2>
<h3 id="function-without-return-type-annotation-returns-what-happened-13">What happened?</h3>
<p>You returned a value from a function without return type annotation.</p>
<h3 id="function-without-return-type-annotation-returns-why-is-this-bad-14">Why is this bad?</h3>
<p>You annotated the function to not return anything so the function should not return anything. The QML tooling will not be able to process the method and the QML engine will ignore the returned value in a future Qt version.</p>
<h3 id="function-without-return-type-annotation-returns-example-15">Example</h3>
<pre class="qml" translate="no">
 import QtQuick

 Item {
     function f(x: int) {
         ...
         return x
     }
 }
</pre>
<p>To fix this warning, adapt the function signature to the new return type or remove the return value:</p>
<pre class="qml" translate="no">
 import QtQuick

 Item {
     function f(x: int): int {
         ...
         return x
     }
     function alternativeF(x: int) {
         ...
         return
     }
 }
</pre>
<h2 id="cannot-assign-binding-object-literal">Cannot assign binding/object/literal</h2>
<h3 id="cannot-assign-binding-object-literal-what-happened-17">What happened?</h3>
<p>You bound an object, literal, or expression to a property of an incompatible type.</p>
<h3 id="cannot-assign-binding-object-literal-why-is-this-bad-18">Why is this bad?</h3>
<p>The QML engine will not be able to assign the object, literal, or expression at runtime.</p>
<h3 id="cannot-assign-binding-object-literal-example-19">Example</h3>
<pre class="qml" translate="no">
 import QtQuick

 <span class="type"><a href="../qtquick/qml-qtquick-item.html" translate="no">Item</a></span> {
     property <span class="type"><a href="qml-date.html" translate="no">date</a></span> <span class="name">xxx</span>: <span class="number">42</span>
 }
</pre>
<p>To fix this warning, bind an object, value, or expression of a compatible type:</p>
<pre class="qml" translate="no">
 import QtQuick

 <span class="type"><a href="../qtquick/qml-qtquick-item.html" translate="no">Item</a></span> {
     property <span class="type"><a href="qml-date.html" translate="no">date</a></span> <span class="name">xxx</span>: new <span class="name">Date</span>()
 }
</pre>
</div>
<!-- @@@qmllint-warnings-and-errors-incompatible-type.html -->
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <abbr title="Copyright">&copy;</abbr> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
