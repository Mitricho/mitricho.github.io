<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qevent.cpp -->
  <meta name="description" content="The QContextMenuEvent class contains parameters that describe a context menu event.">
  <title>QContextMenuEvent Class | Qt GUI | Qt 6.9.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li>Qt 6.9</li>
<li><a href="qtgui-index.html">Qt GUI</a></li>
<li><a href="qtgui-module.html" translate="no">C++ Classes</a></li>
<li>QContextMenuEvent</li>
<li id="buildversion"><a href="qtgui-index.html">Qt 6.9.0 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#public-types">Public Types</a></li>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title" translate="no">QContextMenuEvent Class</h1>
<!-- $$$QContextMenuEvent-brief -->
<p>The QContextMenuEvent class contains parameters that describe a context menu event. <a href="#details">More...</a></p>
<!-- @@@QContextMenuEvent -->
<div class="table"><table class="alignedsummary requisites" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign"> <code translate="no">#include &lt;QContextMenuEvent&gt;</code></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> CMake:</td><td class="memItemRight bottomAlign"> <code translate="no">find_package(Qt6 REQUIRED COMPONENTS Gui)</code><br/>
<code translate="no">target_link_libraries(mytarget PRIVATE Qt6::Gui)</code></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> <code translate="no">QT += gui</code></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Inherits:</td><td class="memItemRight bottomAlign"> <a href="qinputevent.html" translate="no">QInputEvent</a></td></tr>
</table></div>
<ul>
<li><a href="qcontextmenuevent-members.html">List of all members, including inherited members</a></li>
<li><a href="qcontextmenuevent-obsolete.html">Deprecated members</a></li>
<li>QContextMenuEvent is part of <a href="../qtcore/events.html">Event Classes</a>.</li>
</ul>
<h2 id="public-types">Public Types</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qcontextmenuevent.html#Reason-enum" translate="no">Reason</a></b> { Mouse, Keyboard, Other }</td></tr>
</table></div>
<h2 id="public-functions">Public Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qcontextmenuevent.html#QContextMenuEvent-1" translate="no">QContextMenuEvent</a></b>(QContextMenuEvent::Reason <i>reason</i>, const QPoint &amp;<i>pos</i>, const QPoint &amp;<i>globalPos</i>, Qt::KeyboardModifiers <i>modifiers</i> = Qt::NoModifier)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> const QPoint &amp;</td><td class="memItemRight bottomAlign"><b><a href="qcontextmenuevent.html#globalPos" translate="no">globalPos</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="qcontextmenuevent.html#globalX" translate="no">globalX</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="qcontextmenuevent.html#globalY" translate="no">globalY</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> const QPoint &amp;</td><td class="memItemRight bottomAlign"><b><a href="qcontextmenuevent.html#pos" translate="no">pos</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QContextMenuEvent::Reason </td><td class="memItemRight bottomAlign"><b><a href="qcontextmenuevent.html#reason" translate="no">reason</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="qcontextmenuevent.html#x" translate="no">x</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="qcontextmenuevent.html#y" translate="no">y</a></b>() const</td></tr>
</table></div>
<!-- $$$QContextMenuEvent-description -->
<div class="descr">
<h2 id="details">Detailed Description</h2>
<p>A context menu event is sent when a user performs an action that should open a contextual menu:</p>
<ul>
<li>clicking the right mouse button</li>
<li>pressing a dedicated keyboard menu key (if the keyboard has one, such as the menu key on standard 104-key PC keyboards)</li>
<li>pressing some other keyboard shortcut (such as &quot;Ctrl+Return&quot; by default on macOS 15 and newer)</li>
</ul>
<p>The expected context menu should contain <a href="qaction.html" translate="no">actions</a> that are relevant to some content within the application (the &quot;context&quot;). In Qt, the context is at least the particular <a href="../qtwidgets/qwidget.html" translate="no">widget</a> or Qt Quick <a href="../qtquick/qml-qtquick-item.html" translate="no">Item</a> that receives the QContextMenuEvent. If there is a selection, that should probably be treated as the context. The context can be further refined using <a href="qcontextmenuevent.html#pos" translate="no">QContextMenuEvent::pos</a>() to pinpoint the content within the widget, item or selection.</p>
<p>Widgets can override <a href="../qtwidgets/qwidget.html#contextMenuEvent" translate="no">QWidget::contextMenuEvent</a>() to handle this event. Many widgets already do that, and have useful context menus by default. Some widgets have a function such as <a href="../qtwidgets/qlineedit.html#createStandardContextMenu" translate="no">createStandardContextMenu</a>() to populate the default set of actions into a <a href="../qtwidgets/qmenu.html" translate="no">QMenu</a>, which can be customized further in your subclass and then shown.</p>
<p>In Qt Quick, the event can be handled via the ContextMenu attached property. Some QtQuick.Controls Controls already provide context menus by default.</p>
<p>Unlike most synthetic events (such as a <a href="qmouseevent.html" translate="no">QMouseEvent</a> that is sent only after a <a href="qtouchevent.html" translate="no">QTouchEvent</a> or <a href="qtabletevent.html" translate="no">QTabletEvent</a> was not accepted), QContextMenuEvent is sent regardless of whether the original mouse or key event was already handled and <a href="../qtcore/qevent.html#accepted-prop" translate="no">accepted</a>. This is to accommodate the Windows UI pattern of selecting some kind of items (icons, drawing elements, or cells in an Item View) using the right mouse button (clicking or dragging), and then getting a context menu as soon as you release the right mouse button. (The actions on the menu are meant to apply to the selection.) Therefore, on Windows the QContextMenuEvent is sent on mouse release; while on other platforms, it's sent on press. Qt follows the <a href="qstylehints.html#contextMenuTrigger-prop" translate="no">platform convention</a> by default.</p>
<p>There are also some Qt Quick Controls such as Pane that accept mouse events, and nevertheless receive a QContextMenuEvent after a mouse press or click.</p>
<p>If you prefer to support the press-drag-release UI pattern to open a context menu on press, and drag over a menu item to select it on release, you will need to do that by handling <a href="qmouseevent.html" translate="no">QMouseEvents</a> directly (by overriding <a href="../qtwidgets/qwidget.html#mousePressEvent" translate="no">virtual functions</a> in <a href="../qtwidgets/qwidget.html" translate="no">QWidget</a> subclasses, or using <a href="../qtquick/qml-qtquick-taphandler.html" translate="no">TapHandler</a> to open a Menu in Qt Quick); and then the QContextMenuEvent will be redundant when the <a href="qcontextmenuevent.html#reason" translate="no">reason</a>() is <code translate="no">Mouse</code>. You should <a href="../qtcore/qevent.html#ignore" translate="no">ignore</a>() the event in that case; but you should still ensure that the widget, custom control or application can respond to a QContextMenuEvent that <a href="qcontextmenuevent.html#reason" translate="no">comes from</a> the platform-specific keyboard shortcut.</p>
<p>When a QContextMenuEvent is <a href="../qtcore/qevent.html#ignore" translate="no">ignored</a>, Qt attempts to deliver it to other widgets and/or Items under the <a href="qcontextmenuevent.html#pos" translate="no">position</a> (which is usually translated from the cursor position).</p>
</div>
<!-- @@@QContextMenuEvent -->
<div class="types">
<h2>Member Type Documentation</h2>
<!-- $$$Reason$$$Mouse$$$Keyboard$$$Other -->
<h3 class="fn" translate="no" id="Reason-enum">enum QContextMenuEvent::<span class="name">Reason</span></h3>
<p>This enum describes the reason why the event was sent.</p>
<div class="table"><table class="valuelist"><tr valign="top" class="odd"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td class="topAlign"><code translate="no">QContextMenuEvent::Mouse</code></td><td class="topAlign tblval"><code translate="no">0</code></td><td class="topAlign">The mouse caused the event to be sent. Normally this means the right mouse button was clicked, but this is platform dependent.</td></tr>
<tr><td class="topAlign"><code translate="no">QContextMenuEvent::Keyboard</code></td><td class="topAlign tblval"><code translate="no">1</code></td><td class="topAlign">The keyboard caused this event to be sent. On Windows, this means the menu button was pressed.</td></tr>
<tr><td class="topAlign"><code translate="no">QContextMenuEvent::Other</code></td><td class="topAlign tblval"><code translate="no">2</code></td><td class="topAlign">The event was sent by some other means (i.e. not by the mouse or keyboard).</td></tr>
</table></div>
<!-- @@@Reason -->
</div>
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$QContextMenuEvent$$$QContextMenuEventQContextMenuEvent::ReasonconstQPoint&constQPoint&Qt::KeyboardModifiers -->
<h3 class="fn" translate="no" id="QContextMenuEvent-1">QContextMenuEvent::<span class="name">QContextMenuEvent</span>(<span class="type"><a href="qcontextmenuevent.html#Reason-enum" translate="no">QContextMenuEvent::Reason</a></span> <i>reason</i>, const <span class="type"><a href="../qtcore/qpoint.html" translate="no">QPoint</a></span> &amp;<i>pos</i>, const <span class="type"><a href="../qtcore/qpoint.html" translate="no">QPoint</a></span> &amp;<i>globalPos</i>, <span class="type"><a href="../qtcore/qt.html#KeyboardModifier-enum" translate="no">Qt::KeyboardModifiers</a></span> <i>modifiers</i> = Qt::NoModifier)</h3>
<p>Constructs a context menu event object with the accept parameter flag set to false.</p>
<p>The <i translate="no">reason</i> parameter must be <a href="qcontextmenuevent.html#Reason-enum" translate="no">QContextMenuEvent::Mouse</a> or <a href="qcontextmenuevent.html#Reason-enum" translate="no">QContextMenuEvent::Keyboard</a>.</p>
<p>The <i translate="no">pos</i> parameter specifies the mouse position relative to the receiving widget. <i translate="no">globalPos</i> is the mouse position in absolute coordinates. The <i translate="no">modifiers</i> holds the keyboard modifiers.</p>
<!-- @@@QContextMenuEvent -->
<!-- $$$globalPos[overload1]$$$globalPos -->
<h3 class="fn" translate="no" id="globalPos">const <span class="type"><a href="../qtcore/qpoint.html" translate="no">QPoint</a></span> &amp;QContextMenuEvent::<span class="name">globalPos</span>() const</h3>
<p>Returns the global position of the mouse pointer at the time of the event.</p>
<p><b>See also </b><a href="qcontextmenuevent.html#x" translate="no">x</a>(), <a href="qcontextmenuevent.html#y" translate="no">y</a>(), and <a href="qcontextmenuevent.html#pos" translate="no">pos</a>().</p>
<!-- @@@globalPos -->
<!-- $$$globalX[overload1]$$$globalX -->
<h3 class="fn" translate="no" id="globalX"><span class="type">int</span> QContextMenuEvent::<span class="name">globalX</span>() const</h3>
<p>Returns the global x position of the mouse pointer at the time of the event.</p>
<p><b>See also </b><a href="qcontextmenuevent.html#globalY" translate="no">globalY</a>() and <a href="qcontextmenuevent.html#globalPos" translate="no">globalPos</a>().</p>
<!-- @@@globalX -->
<!-- $$$globalY[overload1]$$$globalY -->
<h3 class="fn" translate="no" id="globalY"><span class="type">int</span> QContextMenuEvent::<span class="name">globalY</span>() const</h3>
<p>Returns the global y position of the mouse pointer at the time of the event.</p>
<p><b>See also </b><a href="qcontextmenuevent.html#globalX" translate="no">globalX</a>() and <a href="qcontextmenuevent.html#globalPos" translate="no">globalPos</a>().</p>
<!-- @@@globalY -->
<!-- $$$pos[overload1]$$$pos -->
<h3 class="fn" translate="no" id="pos">const <span class="type"><a href="../qtcore/qpoint.html" translate="no">QPoint</a></span> &amp;QContextMenuEvent::<span class="name">pos</span>() const</h3>
<p>Returns the position of the mouse pointer relative to the widget that received the event.</p>
<div class="admonition note">
<p><b>Note: </b>If the <a href="qcontextmenuevent.html" translate="no">QContextMenuEvent</a> did not come from the right mouse button, <code translate="no">pos()</code> may be <a href="../qtcore/qpoint.html#isNull" translate="no">null</a>.</p>
</div>
<p><b>See also </b><a href="qcontextmenuevent.html#x" translate="no">x</a>(), <a href="qcontextmenuevent.html#y" translate="no">y</a>(), and <a href="qcontextmenuevent.html#globalPos" translate="no">globalPos</a>().</p>
<!-- @@@pos -->
<!-- $$$reason[overload1]$$$reason -->
<h3 class="fn" translate="no" id="reason"><span class="type"><a href="qcontextmenuevent.html#Reason-enum" translate="no">QContextMenuEvent::Reason</a></span> QContextMenuEvent::<span class="name">reason</span>() const</h3>
<p>Returns the reason for this context event.</p>
<!-- @@@reason -->
<!-- $$$x[overload1]$$$x -->
<h3 class="fn" translate="no" id="x"><span class="type">int</span> QContextMenuEvent::<span class="name">x</span>() const</h3>
<p>Returns the x position of the mouse pointer, relative to the widget that received the event.</p>
<p><b>See also </b><a href="qcontextmenuevent.html#y" translate="no">y</a>() and <a href="qcontextmenuevent.html#pos" translate="no">pos</a>().</p>
<!-- @@@x -->
<!-- $$$y[overload1]$$$y -->
<h3 class="fn" translate="no" id="y"><span class="type">int</span> QContextMenuEvent::<span class="name">y</span>() const</h3>
<p>Returns the y position of the mouse pointer, relative to the widget that received the event.</p>
<p><b>See also </b><a href="qcontextmenuevent.html#x" translate="no">x</a>() and <a href="qcontextmenuevent.html#pos" translate="no">pos</a>().</p>
<!-- @@@y -->
</div>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <abbr title="Copyright">&copy;</abbr> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
