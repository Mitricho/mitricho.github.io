<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qrhi.cpp -->
  <meta name="description" content="An object that wraps a texture or another kind of native 3D API object.">
  <title>QRhiShadingRateMap Class | Qt GUI | Qt 6.9.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li>Qt 6.9</li>
<li><a href="qtgui-index.html">Qt GUI</a></li>
<li><a href="qtgui-module.html" translate="no">C++ Classes</a></li>
<li><a href="qtguiprivate-module.html" translate="no">QtGuiPrivate</a></li>
<li>QRhiShadingRateMap</li>
<li id="buildversion"><a href="qtgui-index.html">Qt 6.9.0 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#public-types">Public Types</a></li>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#reimplemented-public-functions">Reimplemented Public Functions</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title" translate="no">QRhiShadingRateMap Class</h1>
<!-- $$$QRhiShadingRateMap-brief -->
<p>An object that wraps a texture or another kind of native 3D API object. <a href="#details">More...</a></p>
<!-- @@@QRhiShadingRateMap -->
<div class="table"><table class="alignedsummary requisites" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign"> <code translate="no">#include &lt;rhi/qrhi.h&gt;</code></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> CMake:</td><td class="memItemRight bottomAlign"> <code translate="no">find_package(Qt6 REQUIRED COMPONENTS Gui)</code><br/>
<code translate="no">target_link_libraries(mytarget PRIVATE Qt6::GuiPrivate)</code></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> <code translate="no">QT += gui-private</code></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Since:</td><td class="memItemRight bottomAlign"> Qt 6.9</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Inherits:</td><td class="memItemRight bottomAlign"> <a href="qrhiresource.html" translate="no">QRhiResource</a></td></tr>
</table></div>
<ul>
<li><a href="qrhishadingratemap-members.html">List of all members, including inherited members</a></li>
</ul>
<h2 id="public-types">Public Types</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.9)</code> struct </td><td class="memItemRight bottomAlign"><b><a href="qrhishadingratemap-nativeshadingratemap.html" translate="no">NativeShadingRateMap</a></b></td></tr>
</table></div>
<h2 id="public-functions">Public Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="qrhishadingratemap.html#createFrom" translate="no">createFrom</a></b>(QRhiShadingRateMap::NativeShadingRateMap <i>src</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="qrhishadingratemap.html#createFrom-1" translate="no">createFrom</a></b>(QRhiTexture *<i>src</i>)</td></tr>
</table></div>
<h2 id="reimplemented-public-functions">Reimplemented Public Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> virtual QRhiResource::Type </td><td class="memItemRight bottomAlign"><b><a href="qrhishadingratemap.html#resourceType" translate="no">resourceType</a></b>() const override</td></tr>
</table></div>
<!-- $$$QRhiShadingRateMap-description -->
<div class="descr">
<h2 id="details">Detailed Description</h2>
<div class="admonition note">
<p><b>Note: </b>This is a RHI API with limited compatibility guarantees, see <a href="qrhi.html" translate="no">QRhi</a> for details.</p>
</div>
<p>For an introduction to Variable Rate Shading (VRS), see <a href="https://learn.microsoft.com/en-us/windows/win32/direct3d12/vrs">https://learn.microsoft.com/en-us/windows/win32/direct3d12/vrs</a>. Qt supports a subset of the VRS features offered by Direct 3D 12 and Vulkan. In addition, Metal's somewhat different mechanism is supported by making it possible to set up a QRhiShadingRateMap with an existing MTLRasterizationRateMap object.</p>
</div>
<!-- @@@QRhiShadingRateMap -->
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$createFrom[overload1]$$$createFromQRhiShadingRateMap::NativeShadingRateMap -->
<h3 class="fn" translate="no" id="createFrom"><code class="details extra" translate="no">[virtual]</code> <span class="type">bool</span> QRhiShadingRateMap::<span class="name">createFrom</span>(<span class="type"><a href="qrhishadingratemap-nativeshadingratemap.html" translate="no">QRhiShadingRateMap::NativeShadingRateMap</a></span> <i>src</i>)</h3>
<p>Sets up the shading rate map to use a native 3D API shading rate object <i translate="no">src</i>.</p>
<p>Returns <code translate="no">true</code> when successful, <code translate="no">false</code> when not supported.</p>
<div class="admonition note">
<p><b>Note: </b>This is functional only when the <a href="qrhi.html#Feature-enum" translate="no">QRhi::VariableRateShadingMap</a> feature is reported as supported, while QRhi::VariableShadingRateMapWithTexture feature is not. Currently this is true for Metal, assuming variable rate shading is supported by the GPU.</p>
</div>
<div class="admonition note">
<p><b>Note: </b>With Metal, the <code translate="no">object</code> field of <i translate="no">src</i> is expected to contain an id&lt;MTLRasterizationRateMap&gt;. Note that Qt does not perform anything else apart from passing the MTLRasterizationRateMap on to the MTLRenderPassDescriptor. If any special scaling is required, it is up to the application (or the XR compositor) to perform that.</p>
</div>
<!-- @@@createFrom -->
<!-- $$$createFrom$$$createFromQRhiTexture* -->
<h3 class="fn" translate="no" id="createFrom-1"><code class="details extra" translate="no">[virtual]</code> <span class="type">bool</span> QRhiShadingRateMap::<span class="name">createFrom</span>(<span class="type"><a href="qrhitexture.html" translate="no">QRhiTexture</a></span> *<i>src</i>)</h3>
<p>Sets up the shading rate map to use the texture <i translate="no">src</i> as the image containing the per-tile shading rates.</p>
<p>Returns <code translate="no">true</code> when successful, <code translate="no">false</code> when not supported.</p>
<p>The <a href="qrhishadingratemap.html" translate="no">QRhiShadingRateMap</a> does not take ownership of <i translate="no">src</i>.</p>
<div class="admonition note">
<p><b>Note: </b>This is functional only when the <a href="qrhi.html#Feature-enum" translate="no">QRhi::VariableRateShadingMapWithTexture</a> feature is reported as supported. In practice may be supported on Vulkan and Direct 3D 12 when using modern graphics cards. It will never be supported on OpenGL or Metal, for example.</p>
</div>
<div class="admonition note">
<p><b>Note: </b><i translate="no">src</i> must have a format of <a href="qrhitexture.html#Format-enum" translate="no">QRhiTexture::R8UI</a>.</p>
</div>
<div class="admonition note">
<p><b>Note: </b><i translate="no">src</i> must have a width of <code translate="no">ceil(render_target_pixel_width / (float)tile_width)</code> and a height of <code translate="no">ceil(render_target_pixel_height / (float)tile_height)</code>. It is up to the application to ensure the size of the texture is as expected, using the above formula, at all times. The tile size can be queried via <a href="qrhi.html#resourceLimit" translate="no">QRhi::resourceLimit</a>() and <a href="qrhi.html#ResourceLimit-enum" translate="no">QRhi::ShadingRateImageTileSize</a>.</p>
</div>
<p>Each byte (texel) in the texture corresponds to the shading rate value for one tile. 0 indicates 1x1, while a value of 10 indicates 4x4. See <a href="https://learn.microsoft.com/en-us/windows/win32/api/d3d12/ne-d3d12-d3d12_shading_rate">D3D12_SHADING_RATE</a> for other possible values.</p>
<!-- @@@createFrom -->
<!-- $$$resourceType[overload1]$$$resourceType -->
<h3 class="fn" translate="no" id="resourceType"><code class="details extra" translate="no">[override virtual]</code> <span class="type"><a href="qrhiresource.html#Type-enum" translate="no">QRhiResource::Type</a></span> QRhiShadingRateMap::<span class="name">resourceType</span>() const</h3>
<p>Reimplements: <a href="qrhiresource.html#resourceType" translate="no">QRhiResource::resourceType</a>() const.</p>
<p>Returns the resource type.</p>
<!-- @@@resourceType -->
</div>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <abbr title="Copyright">&copy;</abbr> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
