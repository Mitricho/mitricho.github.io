<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qt3dxr-pcvr.qdoc -->
  <meta name="description" content="Details on supporting non-standalone VR headsets.">
  <title>PCVR | Qt Quick 3D | Qt 6.9.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li>Qt 6.9</li>
<li><a href="qtquick3d-index.html">Qt Quick 3D</a></li>
<li>PCVR</li>
<li id="buildversion"><a href="qtquick3d-index.html">Qt Quick 3D | Commercial or GPLv3</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#overview">Overview</a></li>
<li class="level1"><a href="#further-considerations">Further considerations</a></li>
<li class="level1"><a href="#choosing-the-openxr-implementation">Choosing the OpenXR Implementation</a></li>
<li class="level1"><a href="#wireless-streaming-solutions-for-the-meta-quest-3">Wireless streaming solutions for the Meta Quest 3</a></li>
<li class="level1"><a href="#tables-of-tested-configurations">Tables of Tested Configurations</a></li>
<li class="level1"><a href="#further-reading">Further reading</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">PCVR</h1>
<!-- $$$qt3dxr-pcvr.html-description -->
<div class="descr" id="details">
<h2 id="overview">Overview</h2>
<p>With standalone devices, all rendering and processing happens on the headset itself. With non-standalone devices, also referred to as <code translate="no">PCVR</code>, all rendering and most of the related processing happens on a computer connected to the headset either via a physical cable, or wirelessly.</p>
<p>For developers, working in a PCVR-based environment can be simpler and more productive than continuously deploying and testing on a standalone VR device. This is because development, testing, debugging, and profiling methods and tools are mostly the same as with regular desktop Windows or Linux applications, which the VR application still is, even though it may not render anything on-screen on the desktop.</p>
<p>For end-users, however, setting up and running with PCVR can be more convoluted than simply installing the application on a standalone device.</p>
<p>With devices where both approaches are possible (for example, the Meta Quest 3), it can be useful for productivity to combine the two. Use PCVR (or even the Meta XR Simulator) during development when it makes sense, but focus on the standalone (Android) build for AR features and for final delivery to end-users.</p>
<div class="admonition note">
<p><b>Note: </b>The performance aspects of running the same Qt application on Android in Standalone mode and on Windows in PCVR mode may vary wildly since it means running on a completely different CPU, GPU, and software stack. Performance profiling conclusions should always be drawn by running natively in the appropriate environment and profiling using platform-specific tools.</p>
</div>
<p>When it comes to input, data from the headset's controller is delivered to the application running on the PC via the OpenXR API, no differently than with applications running on the headset directly. In addition, the application may still rely on peripherals connected to the PC for further input methods, although this should be considered carefully since relying on keyboard or mouse input has a number of potential pitfalls.</p>
<h2 id="further-considerations">Further considerations</h2>
<p>With PCVR, the quality and performance depends heavily on the host PC's capabilities, but the streaming technology and associated factors, such as the wireless network bandwidth, can affect the results as well. This also means that the visual experience may vary between runs and between environments, especially if wireless streaming is used.</p>
<p>Some features may not be available or may be limited compared to standalone devices, especially AR-related ones. Consider passthrough, for example. In standalone mode, the application and the underlying software stack have easy access to the headset's camera feed. When streaming from a remote computer, passthrough may become expensive and could involve a lot of additional data transfer to the PC. Therefore it is not uncommon that AR and spatial-related features are not available in PCVR systems.</p>
<p>In the PCVR ecosystem, there are multiple solutions that provide an OpenXR implementation and wired or wireless streaming, with varying availability, depending on the device used. Some runtimes are tied to a specific streaming solution, and each of them may provide a different set of features.</p>
<p>Support for 3D APIs varies too. Generally, Direct 3D 11, Direct 3D 12, and Vulkan can be expected to be supported by all OpenXR implementations on Windows. OpenGL support is rare and has not been tested by Qt with PCVR.</p>
<div class="admonition note">
<p><b>Note: </b>Using Direct 3D 11 is not recommended, since important features such as <a href="qt3dxr-multiview.html">Multiview Rendering</a> are not supported with that API. Prefer Direct 3D 12 instead.</p>
</div>
<p>Changing the 3D API used is no different from any Qt Quick or Qt Quick 3D application: set the environment variable <code translate="no">QSG_RHI_BACKEND</code> (for example, to <code translate="no">d3d12</code>) or call <a href="../qtquick/qquickwindow.html#setGraphicsApi" translate="no">QQuickWindow::setGraphicsApi</a>().</p>
<h2 id="choosing-the-openxr-implementation">Choosing the OpenXR Implementation</h2>
<p>With the standard Khronos OpenXR loader, there are multiple ways to change what implementation gets loaded:</p>
<ul>
<li>Set the environment variable <code translate="no">XR_RUNTIME_JSON</code>. For example, setting <code translate="no">XR_RUNTIME_JSON=c:\MetaXRSimulator\meta_openxr_simulator.json</code> makes the Qt Quick 3D Xr application launched afterwards to pick the Meta XR Simulator's OpenXR implementation.</li>
<li>Alternatively, the setting can be made permanent via the registry. (on Windows) Check/change the value of <code translate="no">ActiveRuntime</code> under <code translate="no">Computer\HKEY_LOCAL_MACHINE\SOFTWARE\Khronos\OpenXR\1</code></li>
<li>Some streaming solutions may have options in their settings to force using a given OpenXR implementations.</li>
</ul>
<h2 id="wireless-streaming-solutions-for-the-meta-quest-3">Wireless streaming solutions for the Meta Quest 3</h2>
<ul>
<li><a href="https://www.meta.com/en-gb/help/quest/articles/headsets-and-accessories/oculus-link/connect-with-air-link/">Meta Quest Link and Air Link</a></li>
<li><a href="https://www.meta.com/en-gb/experiences/steam-link/5841245619310585/">Steam Link VR</a> is a solution similar to Air Link</li>
<li><a href="https://www.vrdesktop.net/">Virtual Desktop</a> is a remote desktop tool with wireless streaming as well.</li>
</ul>
<h2 id="tables-of-tested-configurations">Tables of Tested Configurations</h2>
<p>Meta Quest 3</p>
<ul>
<li>Wired connection (USB-C), Oculus OpenXR runtime</li>
<li>Wired connection (USB-C), SteamVR OpenXR runtime</li>
<li>Wireless connection via AirLink, Oculus OpenXR runtime</li>
<li>Wireless connection via AirLink, SteamVR OpenXR runtime</li>
<li>Wireless connection via SteamLink, SteamVR OpenXR runtime</li>
<li>Wireless connection via Virtual Desktop, SteamVR OpenXR runtime</li>
<li>Wireless connection via Virtual Desktop, VDXR OpenXR runtime</li>
</ul>
<p>Special</p>
<ul>
<li>Meta XR Simulator (Windows and macOS)</li>
</ul>
<h2 id="further-reading">Further reading</h2>
<p>This page cannot possibly dive into all the details, configuration issues, and possibilities around PCVR. For a good summary and introduction on the topic of streaming and OpenXR implementations, it is recommended to take a look at the <a href="https://github.com/mbucchia/VirtualDesktop-OpenXR/wiki">the VDXR wiki</a>.</p>
</div>
<!-- @@@qt3dxr-pcvr.html -->
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <abbr title="Copyright">&copy;</abbr> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
