<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://mitricho.github.io/images/style.css">
  <style>
	::backdrop {
	  background-image: linear-gradient(
		45deg,
		magenta,
		rebeccapurple,
		dodgerblue,
		green
	  );
	  opacity: 0.75;
	}
  </style>
</head>

<body>

<h1>My Gallery</h1>
<div class="grid">
  <div class="grid-sizer"></div>  
</div>

<dialog class="dialog" onclick="this.close()">
</dialog>

<script src='https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.js'></script>
<script src='https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.js'></script>
<script src='https://mitricho.github.io/images/data.js'></script>

<script>
	function $(s){
		return document.querySelector(s);
	}
	function dialog(url){
		var d = $('.dialog');
		    d.innerHTML = '<img src="' + url + '" width="600px">';
		    d.showModal();
	}	
	
	var grid = $('.grid');	
	for(var i=0;i<data.length;i++){
		grid.innerHTML += '<div class="grid-item"><img lazy="true" src="' + data[i] + '" onclick="dialog(\'' + data[i] + '\')"/></div>';
	}

	var masonry = new Masonry( grid, {
	  itemSelector: '.grid-item',
	  columnWidth: '.grid-sizer',
	  percentPosition: true
	});

	
	imagesLoaded( grid ).on( 'progress', function() {
	  masonry.layout();
	});
	

</script>

</body>
</html>
